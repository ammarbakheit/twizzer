(window.webpackJsonptwizzer=window.webpackJsonptwizzer||[]).push([[0],{35:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},51:function(e,t,a){e.exports=a(87)},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(22),r=a.n(s),l=a(1),c=a(2),i=a(4),u=a(3),m=a(5),p=a(6),d=a(16),f=a(48),h=a(12);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={posts:[],post:{},comment:{},like:{}};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={authenticated:!!localStorage.getItem("token"),loggedUser:{},loggedUserPosts:[],name:"",token:"",user:{},username:"",userPosts:[],register:{},login:{},follow:{},followers:"",loggedUserFollowers:"",following:!1,followingPpl:"",UserfollowingPpl:""},y=Object(d.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return b({},e,{posts:t.payload});case"ADD_POST":return b({},e,{post:t.payload});case"ADD_COMMENT":return b({},e,{comment:t.comment});case"LIKE":return b({},e,{like:t.likedPost});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT":return O({},e,{authenticated:t.payload,loggedUser:{},token:"",register:"",login:""});case"AUTHENTICATED":return O({},e,{loggedUser:t.payload.user,loggedUserPosts:t.loggedUserPosts,name:null!==t.payload.user?t.payload.name:"",authenticated:t.payload.logged,loggedUserFollowers:t.payload.followers.length,followingPpl:t.payload.followingPpl});case"REGISTER":return O({},e,{register:t.payload,authenticated:!!t.payload.token,loggedUser:t.payload.user?t.payload.user:null,token:t.payload.token?t.payload.token:null,name:t.payload.user?t.payload.user.name:null});case"LOGIN":return O({},e,{login:t.payload,authenticated:!!t.payload.token,loggedUser:t.payload.user?t.payload.user:null,name:t.payload.user?t.payload.user.name:null});case"FOLLOW":return O({},e,{follow:t.payload,following:"followed"===t.payload.action,followers:"followed"===t.payload.action?e.followers+1:e.followers-1});case"FETCH_USER":var a=t.following.filter((function(e){return e.followerId===t.currentLoggedUser}));return O({},e,{user:t.payload,username:t.payload.name,userPosts:t.userPosts,followers:t.followers,UserfollowingPpl:t.followingPpl.length,following:a.length>0});default:return e}}}),j=[f.a],N=Object(d.e)(y,{},Object(d.d)(d.a.apply(void 0,j),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),k=a(8),P=a(17),C=a(24),U=function(e){var t=e.component,a=e.authed,n=Object(C.a)(e,["component","authed"]);return o.a.createElement(P.b,Object.assign({},n,{render:function(e){return!0===a?o.a.createElement(t,Object.assign({},n,e),"  ",e.children," "):o.a.createElement(P.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},I=function(e){var t=e.component,a=e.authed,n=Object(C.a)(e,["component","authed"]);return o.a.createElement(P.b,Object.assign({},n,{render:function(e){return!1===a?o.a.createElement(t,e):o.a.createElement(P.a,{to:{pathname:"/",state:{from:e.location}}})}}))},S=(a(35),a(13)),T=a.n(S),D=a(31),L=a.n(D),W=function(){return function(e){var t=localStorage.getItem("token");if(t){var a=L()(t);T.a.get("/api/users/".concat(a.id)).then((function(t){e({type:"AUTHENTICATED",payload:{user:t.data.user,name:t.data.user.name,logged:!0,followers:t.data.user.followers,followingPpl:t.data.user.following.length},loggedUserPosts:t.data.userPosts})}))}else e({type:"AUTHENTICATED",payload:{logged:!1,user:null,followers:0}})}},_=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.authenticated()}},{key:"render",value:function(){var e=this.props.name.slice(0,2).toUpperCase();return o.a.createElement("div",{className:"image-wrapper"},o.a.createElement("div",{className:"user-image"},o.a.createElement("span",null,e)))}}]),t}(n.Component),R=Object(p.b)((function(e){return{name:e.auth.name}}),{authenticated:W})(_),M=(a(83),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).logoutSubmit=function(){a.props.logout()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.authenticated()}},{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement(k.b,{to:"/"},o.a.createElement("button",{className:"logo"},"Twizzer")),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(k.b,{to:"/profile"},o.a.createElement("button",null,o.a.createElement(R,{name:this.props.loggedUser.name})))),o.a.createElement("li",null,o.a.createElement("button",{className:"button",onClick:this.logoutSubmit},"Logout"))))}}]),t}(n.Component)),F=Object(p.b)((function(e){return{loggedUser:e.auth.loggedUser}}),{logout:function(){return function(e){localStorage.removeItem("token"),e({type:"LOGOUT",payload:!1})}},authenticated:W})(M),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:e.name},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.authenticated()}},{key:"render",value:function(){var e=this.state.name.slice(0,2).toUpperCase();return o.a.createElement("div",{className:"image-wrapper"},o.a.createElement("div",{className:"user-image"},o.a.createElement("span",null,e)))}}]),t}(n.Component),x=Object(p.b)((function(e){return{name:e.auth.username}}),{authenticated:W})(A),G=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).onClick=function(){e.setState({follow:!e.state.follow}),console.log(e.props.userId,e.props.loggedUser.id,e.state.follow)},e.onSubmit=function(t){t.preventDefault(),e.props.follow({followerId:e.props.loggedUser.id,followedId:e.props.userId,type:!0===e.state.follow?"follow":"unfollow"})},e.state={follow:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.following?this.setState({follow:!0}):!1===e.following&&this.setState({follow:!1})}},{key:"componentWillMount",value:function(){this.setState({follow:this.props.following})}},{key:"render",value:function(){var e={background:!0===this.state.follow?"#00bcd4":"#fff",color:!0===this.state.follow?"#fff":"#00bcd4"};return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("button",{type:"submit",onClick:this.onClick,style:e,className:"button"},!0===this.state.follow?"following":" follow ")))}}]),t}(n.Component),H=Object(p.b)((function(e){return{loggedUser:e.auth.loggedUser,followers:e.auth.follow,following:e.auth.following}}),{follow:function(e){return function(t){T.a.post("/api/users/follow/".concat(e.followedId),{followerId:e.followerId,type:e.type}).then((function(e){t({type:"FOLLOW",payload:e.data,action:e.data.action})}))}}})(G),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault(),a.props.like({userId:a.props.userId,postId:a.props.postId})},a.state={commentsNumber:e.commentsNumber||[],likes:e.likes||[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.commentsNumber.filter((function(t){return t.id===e.newcomment.id}));e.newcomment&&0===t.length&&e.newcomment.postId===this.props.postId&&this.props.commentsNumber.push(e.newcomment);var a=this.state.likes.filter((function(t){return t.id===e.newLike.id}));e.newLike&&0===a.length&&e.newLike.postId===this.props.postId&&this.props.likes.push(e.newLike)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"engg-wrapper"},o.a.createElement("button",{className:"engg-btns"},o.a.createElement("img",{className:"engg-btns-svg",src:"./images/btns/share-alt.svg",alt:""})),o.a.createElement("button",{onClick:function(){return e.props.commentToggler()},className:"engg-btns"},o.a.createElement("img",{className:"engg-btns-svg",src:"./images/btns/comment-dots.svg",alt:""}),o.a.createElement("span",{style:{color:"crimson"}}," ",this.props.commentsNumber?this.props.commentsNumber.length:0," ")),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("button",{type:"submit",className:"engg-btns"},o.a.createElement("img",{className:"engg-btns-svg",src:"./images/btns/heart.svg",alt:""}),o.a.createElement("span",{style:{color:"crimson"}}," ",this.props.likes?this.props.likes.length:0," "))))}}]),t}(n.Component),B=Object(p.b)((function(e){return{newcomment:e.posts.comment,newLike:e.posts.like}}),{like:function(e){return function(t){T.a.post("/api/posts/like",e).then((function(e){console.log(e.data),t({type:"LIKE",likedPost:e.data.successLike})}))}}})(z),X=a(23);var J=Object(p.b)((function(e){return{userId:e.auth.loggedUser.id,username:e.auth.loggedUser.name}}),{addComment:function(e){return function(t){T.a.post("api/posts/comment",e).then((function(e){t({type:"ADD_COMMENT",comment:e.data})}))}}})((function(e){var t=Object(n.useState)(""),a=Object(X.a)(t,2),s=a[0],r=a[1];return o.a.createElement("div",{className:"add-comment-wrapper"},o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.addComment({userId:e.userId,username:e.username,postId:e.postId,comment:s}),r("")}},o.a.createElement("textarea",{onChange:function(e){r(e.target.value)},value:s,placeholder:"add your comment"}," "),o.a.createElement("button",{className:"button comment-btn",type:"submit"}," Comment")))}));a(44);function K(e){var t=Object(n.useState)(e.name),a=Object(X.a)(t,2),s=a[0];a[1];return o.a.createElement("div",{className:"comment-image-wrapper"},o.a.createElement("div",{className:"comment-user-image"},o.a.createElement("span",null,s?s.slice(0,2).toUpperCase():"")))}a(45);var V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={comment:e.comment,commentsNumber:e.numbers},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"single-comment-wrapper"},o.a.createElement("div",{className:"comment-header"},o.a.createElement(K,{name:this.state.comment.username}),o.a.createElement(k.b,{to:"/".concat(this.state.comment.userId)},o.a.createElement("span",null," ",this.state.comment.username," "))),o.a.createElement("div",{className:"comment-body"},o.a.createElement("p",null,this.state.comment.comment)))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={comments:e.comments||[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.newComment;0===this.state.comments.filter((function(e){return e.id===t.id})).length&&t.postId===this.props.postId&&this.state.comments.push(t)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.comments.map((function(t){return""===t?"":o.a.createElement(V,{key:t.id,comment:t,numbers:e.state.comments.length})})),o.a.createElement(J,{postId:this.props.postId}))}}]),t}(n.Component),q=Object(p.b)((function(e){return{newComment:e.posts.comment}}),null)(Y);function Q(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"single-post-wrapper"},o.a.createElement("div",{className:"user-post-header"},o.a.createElement("div",{style:{flexWrap:"wrapp !important"},className:"user-post-info"},o.a.createElement(x,{name:e.user.name}),o.a.createElement("span",null," ",e.user.name," ")),o.a.createElement("small",{className:"user-handle"}," @",e.user.username," ")),o.a.createElement("div",{className:"post-body"},o.a.createElement("p",null,e.post.postBody),o.a.createElement("img",{src:"./uploads/posts/".concat(e.post.postImage),alt:""})),o.a.createElement("div",{className:"post-footer"},o.a.createElement(B,{postId:e.post.id,userId:e.loggedUser.id,likes:e.post.postLikes?e.post.postLikes:[],commentsNumber:e.post.comments?e.post.comments:[]})),o.a.createElement("div",{className:"comment-wrapper"},o.a.createElement(q,{postId:e.post.id,comments:e.post.comments}))))}var Z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={hide:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillMount",value:function(){this.props.fetchUser({userId:this.props.match.params.id}),34===this.props.user.id&&this.setState({hide:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement("div",{className:"user-wrapper"},o.a.createElement("div",{className:"user-info-wrapper"},o.a.createElement("div",{className:"user-info-header"},o.a.createElement(x,{username:this.props.user.name,className:"profile-image"})),o.a.createElement("div",{className:"user-info-data"},o.a.createElement("div",{className:"user-data"},o.a.createElement("span",{className:"name"},this.props.user.name),o.a.createElement("small",{className:"name"},"@",this.props.user.username)),o.a.createElement("div",{className:"user-others"},o.a.createElement("span",{className:"bio"}),o.a.createElement("div",{className:"follow"},parseInt(this.props.match.params.id,10)===this.props.id?"":o.a.createElement(H,{userId:this.props.user.id}),o.a.createElement("div",{className:"followers"}," ",o.a.createElement("small",null," ",this.props.followers," ")," ",o.a.createElement("span",null,"followers")),o.a.createElement("div",{className:"following"}," ",o.a.createElement("small",null," ",this.props.followingPpl)," ",o.a.createElement("span",null,"following")))))),o.a.createElement("div",{className:"user-posts"},this.props.userPosts.map((function(t){return o.a.createElement(Q,{loggedUser:e.props.loggedUser,key:t.id,post:t,user:e.props.user})})))))}}]),t}(n.Component),$=Object(p.b)((function(e){return{user:e.auth.user,loggedUser:e.auth.loggedUser,id:e.auth.loggedUser.id,followers:e.auth.followers,following:e.auth.following,followingPpl:e.auth.UserfollowingPpl,userPosts:e.auth.userPosts}}),{fetchUser:function(e){return function(t){var a=localStorage.getItem("token"),n=L()(a).id;T.a.get("/api/users/".concat(e.userId)).then((function(e){t({type:"FETCH_USER",payload:e.data.user,followers:e.data.user.followers.length,following:e.data.user.followers,currentLoggedUser:n,followingPpl:e.data.user.following,userPosts:e.data.userPosts})}))}}})(Z),ee=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault(),e.props.register({name:e.state.name,username:e.state.username,email:e.state.email,password:e.state.password})},e.state={name:"",email:"",username:"",password:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){return o.a.createElement("div",{className:"login-wrapper"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"errors-wrapper"},o.a.createElement("p",{className:"errors"},this.props.error," ")),o.a.createElement("input",{onChange:this.onChange,value:this.state.name,type:"text",name:"name",placeholder:"name"}),o.a.createElement("input",{onChange:this.onChange,value:this.state.username,type:"text",name:"username",placeholder:"username"}),o.a.createElement("input",{onChange:this.onChange,value:this.state.email,type:"email",name:"email",placeholder:"email"}),o.a.createElement("input",{onChange:this.onChange,value:this.state.password,type:"password",name:"password",placeholder:"password"}),o.a.createElement("button",{className:"button",type:"submit"},"Register")),o.a.createElement("div",{className:"form-footer"},o.a.createElement("p",null,"You have account ? "),o.a.createElement(k.b,{to:"/login"},o.a.createElement("button",{className:"button"}," Login"))))}}]),t}(o.a.Component),te=Object(p.b)((function(e){return{error:e.auth.register.error}}),{register:function(e){return function(t){T.a.post("/api/users/register",{name:e.name,username:e.username,email:e.email,password:e.password}).then((function(e){e.data.error?t({type:"REGISTER",payload:e.data}):e.data.token&&(localStorage.setItem("token",e.data.token),t({type:"REGISTER",payload:e.data}))}))}}})(ee),ae=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault(),console.log(e.state),e.props.login(e.state)},e.state={email:"",password:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-wrapper"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"errors-wrapper"},o.a.createElement("p",{className:"errors"}," ",this.props.error," ")),o.a.createElement("input",{type:"email",onChange:this.onChange,value:this.state.email,name:"email",placeholder:"email"}),o.a.createElement("input",{type:"password",onChange:this.onChange,value:this.state.password,name:"password",placeholder:"password"}),o.a.createElement("button",{className:"button",type:"submit"},"login")),o.a.createElement("div",{className:"form-footer"},o.a.createElement("p",null,"You  dont have account ? "),o.a.createElement(k.b,{to:"/register"},o.a.createElement("button",{className:"button"}," Register"))))}}]),t}(n.Component),ne=Object(p.b)((function(e){return{error:e.auth.login.error}}),{login:function(e){return function(t){console.log("action called",e),T.a.post("/api/users/login",{email:e.email,password:e.password}).then((function(e){e.data.error?t({type:"LOGIN",payload:e.data}):e.data.token&&(localStorage.setItem("token",e.data.token),t({type:"LOGIN",payload:e.data}))}))}}})(ae);function oe(e){var t=e.name.slice(0,2).toUpperCase();return o.a.createElement("div",{className:"image-wrapper"},o.a.createElement("div",{className:"user-image"},o.a.createElement("span",null,t)))}var se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).commentToggler=function(){a.setState({toggle:!a.state.toggle})},a.loveToggler=function(){console.log("love")},a.state={toggle:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"single-post-wrapper"},o.a.createElement("div",{className:"post-header"},o.a.createElement("div",{className:"user-header"},o.a.createElement(oe,{name:this.props.post.user.name}),o.a.createElement(k.b,{to:"/".concat(this.props.post.user.id)},o.a.createElement("span",null," ",this.props.post.user.name," ")),o.a.createElement("small",{className:"user-handle"}," @",this.props.post.user.username,"  "))),o.a.createElement("div",{className:"post-body"},o.a.createElement("p",null,this.props.post.postBody),o.a.createElement("img",{src:"./uploads/posts/".concat(this.props.post.postImage),alt:""})),o.a.createElement("div",{className:"post-footer"},o.a.createElement(B,{postId:this.props.post.id,userId:this.props.loggedUser.id,commentsNumber:this.props.post.comments?this.props.post.comments:[],commentToggler:this.commentToggler,loveToggler:this.loveToggler,likes:this.props.post.likes?this.props.post.likes:[]})),o.a.createElement("div",{style:!1===this.state.toggle?{display:"none"}:{display:"unset"},className:"comment-wrapper"},o.a.createElement(q,{postId:this.props.post.id,comments:this.props.post.comments}))))}}]),t}(n.Component),re=Object(p.b)((function(e){return{loggedUser:e.auth.loggedUser}}),null)(se),le=a(21),ce=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).onChange=function(t){t.target.files?e.setState(Object(h.a)({},t.target.name,t.target.files[0])):t.target.value&&e.setState(Object(h.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=new FormData;a.append("postBody",e.state.post),a.append("file",e.state.file),a.append("userId",e.props.user.id),e.props.addPost(a),e.setState({post:"",file:""})},e.state={post:"",file:{}},e.onChange=e.onChange.bind(Object(le.a)(e)),e.onSubmit=e.onSubmit.bind(Object(le.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"add-post-wrapper"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("textarea",{onChange:this.onChange,value:this.state.post,id:"txt",name:"post",placeholder:"Whats happening"}),o.a.createElement("input",{className:"button",type:"file",onChange:this.onChange,name:"file",id:""}),o.a.createElement("p",{className:"post-errors"}),o.a.createElement("button",{disabled:""===this.state.post,className:"button"},"Post")))}}]),t}(o.a.Component),ie=Object(p.b)((function(e){return{user:e.auth.loggedUser}}),{addPost:function(e){return function(t){T.a.post("/api/posts",e).then((function(e){t({type:"ADD_POST",payload:e.data})}))}}})(ce),ue=(a(84),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.fetchPosts()}},{key:"componentWillReceiveProps",value:function(e){e.newPost&&this.props.posts.unshift(e.newPost)}},{key:"render",value:function(){return o.a.createElement("div",{className:"posts-wrapper"},o.a.createElement(ie,null),o.a.createElement("div",{className:"post-wrapper"},this.props.posts.map((function(e){return o.a.createElement(re,{key:e.id,post:e})}))))}}]),t}(n.Component)),me=Object(p.b)((function(e){return{posts:e.posts.posts,newPost:e.posts.post.post}}),{fetchPosts:function(){return function(e){T.a.get("/api/posts").then((function(t){e({type:"FETCH_POSTS",payload:t.data})}))}}})(ue),pe=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement(me,null))}}]),t}(n.Component),de=(a(85),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={name:e.username},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.authenticated()}},{key:"render",value:function(){var e=this.props.username.slice(0,2).toUpperCase();return o.a.createElement("div",{className:"image-wrapper"},o.a.createElement("div",{className:"user-image"},o.a.createElement("span",null,e)))}}]),t}(n.Component)),fe=Object(p.b)((function(e){return{name:e.auth.username}}),{authenticated:W})(de);function he(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"single-post-wrapper"},o.a.createElement("div",{className:"user-post-header"},o.a.createElement("div",{className:"user-post-info"},o.a.createElement(fe,{username:e.user.name}),o.a.createElement("span",null," ",e.user.name," ")),o.a.createElement("small",{className:"user-handle"}," @",e.user.username," ")),o.a.createElement("div",{className:"post-body"},o.a.createElement("p",null,e.post.postBody),o.a.createElement("img",{src:"./uploads/posts/".concat(e.post.postImage),alt:""})),o.a.createElement("div",{className:"post-footer"},o.a.createElement(B,{postId:e.post.id,userId:e.user.id,likes:e.post.postLikes?e.post.postLikes:[],commentsNumber:e.post.comments?e.post.comments:[]})),o.a.createElement("div",{className:"comment-wrapper"},o.a.createElement(q,{postId:e.post.id,comments:e.post.comments}))))}a(46);var ge=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"user-wrapper"},o.a.createElement("div",{className:"user-info-wrapper"},o.a.createElement("div",{className:"user-info-header"},o.a.createElement(R,{username:this.props.loggedUser.name,className:"profile-image"})),o.a.createElement("div",{className:"user-info-data"},o.a.createElement("div",{className:"user-data"},o.a.createElement("span",{className:"name"}," ",this.props.loggedUser.name," "),o.a.createElement("small",{className:"username"},"@ ",this.props.loggedUser.username)),o.a.createElement("div",{className:"user-others"},o.a.createElement("span",{className:"bio"}),o.a.createElement("div",{className:"follow"},o.a.createElement("div",{className:"followers"}," ",o.a.createElement("small",null,this.props.loggedUserFollowers)," ",o.a.createElement("span",null,"followers")),o.a.createElement("div",{className:"following"}," ",o.a.createElement("small",null,this.props.followingPpl)," ",o.a.createElement("span",null,"following")))))),o.a.createElement("div",{className:"user-posts"},this.props.loggedUserPosts.map((function(t){return o.a.createElement(he,{key:t.id,post:t,user:e.props.loggedUser})}))))}}]),t}(n.Component),be=Object(p.b)((function(e){return{loggedUser:e.auth.loggedUser,loggedUserPosts:e.auth.loggedUserPosts,loggedUserFollowers:e.auth.loggedUserFollowers,followingPpl:e.auth.followingPpl}}),null)(ge),Ee=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(F,null),o.a.createElement(be,null))}}]),t}(n.Component),ve=Object(p.b)((function(e){return{}}),null)(Ee),Oe=(a(86),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.authenticated()}},{key:"render",value:function(){return o.a.createElement(k.a,null,o.a.createElement(P.d,null,o.a.createElement(I,{authed:this.props.auth,path:"/register",exact:!0,component:te}),o.a.createElement(I,{authed:this.props.auth,path:"/login",exact:!0,component:ne}),o.a.createElement(U,{authed:this.props.auth,path:"/profile",exact:!0,component:ve}),o.a.createElement(U,{authed:this.props.auth,path:"/:id",component:$}),o.a.createElement(U,{authed:this.props.auth,path:"/",exact:!0,component:pe})))}}]),t}(n.Component)),we=Object(p.b)((function(e){return{auth:e.auth.authenticated}}),{authenticated:W})(Oe),ye=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,{store:N},o.a.createElement("div",{className:"app"},o.a.createElement(we,null)))}}]),t}(n.Component);r.a.render(o.a.createElement(ye,null),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.d1158813.chunk.js.map